

<h2>test: {{ test.name }} {{ test.head }}</h2>

<pre>{{  test.body }}</pre>

<h1>result</h1>
<pre>
{{ result.to_data() }}
</pre>

<h3>input lines</h3>
<pre>{% for line in test.ilines %}{{ line }}
{% endfor %}</pre>

<!--
<h3>actual</h3>
<pre>{% for line in actual %}{{ line }}
{% endfor %}</pre>
<h3>expected</h3>
<pre>{{ test.olines }}</pre>
-->

{% if result.kind.name == 'Pass' %}
  <h3>pass</h3>
{% else %}
<h3>diff</h3>
<div class="diff">
{% for line in result.error.to_data()['data'] %}
  {% if line.startswith('-') %}
    <pre><del>{{ line }}</del></pre>
  {% elif line.startswith('+') %}
    <pre><ins>{{ line }}</ins></pre>
  {% else %}
    <pre>{{ line }}</pre>
  {% endif %}
{% endfor %}
</div>
{% endif %}

<style>
.diff pre { display: block;  margin: 0; padding: 0;
            color: #000; background: white; }
.diff del { color: #000; background: #fdd; }
.diff ins { color: #000; background: #dfd; }
</style>